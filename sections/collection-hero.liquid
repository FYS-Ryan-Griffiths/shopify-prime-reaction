{% comment %}
  Collection Hero Section
  Category banners with overlay text
{% endcomment %}

{%- style -%}
.collection-hero { position: relative; min-height: 300px; display: flex; align-items: center; justify-content: center; overflow: hidden; }
.collection-hero--small { min-height: 200px; }
.collection-hero--large { min-height: 450px; }
.collection-hero__media { position: absolute; inset: 0; }
.collection-hero__media img, .collection-hero__media video { width: 100%; height: 100%; object-fit: cover; }
.collection-hero__overlay { position: absolute; inset: 0; background: linear-gradient(to top, rgba(0,0,0,0.6), rgba(0,0,0,0.3)); }
.collection-hero__content { position: relative; z-index: 1; text-align: center; color: #fff; padding: var(--spacing-8) var(--spacing-6); max-width: 800px; }
.collection-hero__title { font-family: var(--font-heading-family); font-size: var(--font-size-5xl); font-weight: 700; margin: 0 0 var(--spacing-4); line-height: 1.1; }
.collection-hero--small .collection-hero__title { font-size: var(--font-size-3xl); }
.collection-hero__description { font-size: var(--font-size-lg); opacity: 0.9; margin: 0 0 var(--spacing-6); max-width: 600px; margin-inline: auto; }
.collection-hero__count { font-size: var(--font-size-sm); text-transform: uppercase; letter-spacing: 0.1em; opacity: 0.8; }
.collection-hero__breadcrumb { position: absolute; top: var(--spacing-4); left: var(--spacing-6); z-index: 1; }
.collection-hero__breadcrumb a { font-size: var(--font-size-sm); color: rgba(255,255,255,0.8); text-decoration: none; }
.collection-hero__breadcrumb a:hover { color: #fff; }
.collection-hero__breadcrumb span { margin: 0 var(--spacing-2); opacity: 0.5; }
@media (max-width: 749px) { .collection-hero { min-height: 250px; } .collection-hero__title { font-size: var(--font-size-3xl); } .collection-hero__description { font-size: var(--font-size-base); } }
{%- endstyle -%}

<section class="collection-hero collection-hero--{{ section.settings.height }}">
  <div class="collection-hero__media">
    {% if section.settings.image %}
      {{ section.settings.image | image_url: width: 1920 | image_tag: loading: 'eager', fetchpriority: 'high' }}
    {% elsif collection.image %}
      {{ collection.image | image_url: width: 1920 | image_tag: loading: 'eager', fetchpriority: 'high' }}
    {% else %}
      {{ 'collection-1' | placeholder_svg_tag }}
    {% endif %}
  </div>
  
  {% if section.settings.show_overlay %}
  <div class="collection-hero__overlay"></div>
  {% endif %}
  
  {% if section.settings.show_breadcrumb %}
  <nav class="collection-hero__breadcrumb" aria-label="Breadcrumb">
    <a href="{{ routes.root_url }}">Home</a>
    <span>/</span>
    <a href="{{ routes.collections_url }}">Collections</a>
    <span>/</span>
    <span>{{ collection.title }}</span>
  </nav>
  {% endif %}
  
  <div class="collection-hero__content">
    <h1 class="collection-hero__title">
      {{ section.settings.heading | default: collection.title }}
    </h1>
    {% if section.settings.show_description and collection.description != blank %}
    <p class="collection-hero__description">{{ collection.description | strip_html | truncate: 200 }}</p>
    {% endif %}
    {% if section.settings.show_count %}
    <p class="collection-hero__count">{{ collection.products_count }} {{ collection.products_count | pluralize: 'product', 'products' }}</p>
    {% endif %}
  </div>
</section>

{% schema %}
{
  "name": "Collection Hero",
  "tag": "section",
  "settings": [
    { "type": "text", "id": "heading", "label": "Heading (optional)", "info": "Leave blank to use collection title" },
    { "type": "image_picker", "id": "image", "label": "Image", "info": "Leave blank to use collection image" },
    { "type": "select", "id": "height", "label": "Height", "default": "medium", "options": [
      { "value": "small", "label": "Small" },
      { "value": "medium", "label": "Medium" },
      { "value": "large", "label": "Large" }
    ]},
    { "type": "checkbox", "id": "show_overlay", "label": "Show overlay", "default": true },
    { "type": "checkbox", "id": "show_description", "label": "Show description", "default": true },
    { "type": "checkbox", "id": "show_count", "label": "Show product count", "default": true },
    { "type": "checkbox", "id": "show_breadcrumb", "label": "Show breadcrumb", "default": true }
  ],
  "presets": [{ "name": "Collection Hero" }]
}
{% endschema %}
